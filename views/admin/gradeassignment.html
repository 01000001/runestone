{{extend 'layout.html'}}

<script type="text/javascript">
  eBookConfig.course = '{{=course_id}}'
</script>
<script src="/{{=request.application}}/static/{{=course_id}}/_static/skulpt.min.js" type="text/javascript"></script>
<!--<script src="/{{=request.application}}/static/{{=course_id}}/_static/builtin.js" type="text/javascript"></script>-->
<script src="/{{=request.application}}/static/{{=course_id}}/_static/codemirror.js" type="text/javascript"></script>
<script src="/{{=request.application}}/static/{{=course_id}}/_static/bookfuncs.js" type="text/javascript"></script>
<script type="text/javascript" src="/{{=request.application}}/static/js/superfish.js"></script>
<script type="text/javascript" src="/{{=request.application}}/static/{{=course_id}}/_static/jquery.tablesorter.js"></script>

<link href="/{{=request.application}}/static/{{=course_id}}/_static/codemirror.css" rel="stylesheet" type="text/css"/>
<style type="text/css" media="screen">
  #content {
    width: 900px;
  }

  th {
    text-decoration: underline;
  }
</style>

<table id="studentlist" class="tablesorter">
	<thead>
		<tr>
			<th>Username</th>
			<th>First Name</th>
			<th>Last Name</th>
			<th>Grade</th>
      <th></th>
		</tr>
	</thead>

{{ for s in solutions: }}
    <tr>
      <td>{{ =s[1] }}</td>
      <td>{{ =s[4] }}</td>
      <td>{{ =s[5]}} </td>
      <td id="col-grade-{{=s[1]}}">{{=s[2]}}</td>
      <td>
        <button class='btn btn-default' data-toggle="modal" data-target="#modal-{{=s[1]}}" onclick="createActiveCode('{{ =s[0] }}',undefined,'{{ =s[1] }}')">grade</button>
        <div id="modal-{{=s[1]}}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
              <button class="close" type="button" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title">{{=s[4]}} {{=s[5]}}</h4>
            </div>
            <div class="modal-body">
                <div id="{{ =s[0] }}_{{ =s[1] }}"></div>
                <form>
                  <label for="#input-grade-{{=s[1]}}">Grade</label>
                <input id="input-grade-{{=s[1]}}" type="text" class="form-control " value= "{{=s[2]}}" onchange="sendGrade(this.value,'{{ =s[1] }}','{{ =s[0] }}', {{=s[3]}});$('#col-grade-{{=s[1]}}').html(this.value);" />
                <label for="#input-comments-{{=s[1]}}">Comments</label>
                <input id="input-comments-{{=s[1]}}" type="text" class="form-control" value="{{=s[6]}}" onchange="sendComment(this.value,'{{ =s[1] }}','{{ =s[0] }}', {{=s[3]}});"/>
              </form>
            </div>
            <div class="modal-footer">
              <button class="btn btn-default" type="button" data-dismiss="modal">Close</button>
            </div>
          </div>
          </div>
        </div>
      </td>
    </tr>
{{ pass }}
</table>

<script>
  $(document).ready(function() {
      $("#studentlist").tablesorter();
  }
); 
</script>

